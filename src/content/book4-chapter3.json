{
    "id": "4-3",
    "title": "El Ciclo del Infinito",
    "lore": "Has llegado al final. El Golem se enfrenta al 'Acertijo de la Eternidad'. No hay respuesta directa. Para resolverlo, el Golem debe entrar en un bucle de pensamiento: Proponer, Verificar, Corregir y Reintentar. Solo una mente capaz de dudar y corregirse a s√≠ misma puede alcanzar la Verdad Absoluta.",
    "lesson": "¬°FINAL DEL VIAJE: GRAFOS DE ESTADO (LangGraph)!\n\nLas cadenas lineales (A->B->C) son r√≠gidas. La IA avanzada opera en **Grafos C√≠clicos**.\n\nNodos:\n1. **Pensar**: Generar soluci√≥n.\n2. **Criticar**: Verificar si es correcta.\n3. **Corregir**: Si falla, ajustar y volver a Pensar.\n\nTu misi√≥n: Implementar este ciclo infinito. El Golem debe iterar hasta resolver el acertijo.",
    "initialCode": "acertijo = \"¬øQu√© es lo que al principio camina a cuatro patas, luego a dos y finalmente a tres?\"\n\n# Estado del Grafo\nestado = {\n    \"intento\": 0,\n    \"respuesta_actual\": \"\",\n    \"es_correcta\": False\n}\n\nclass NodoGrafo:\n    def __init__(self, nombre):\n        self.nombre = nombre\n\n    def ejecutar(self, estado):\n        print(f\"[{self.nombre}] Ejecutando...\")\n        return estado\n\n# Definici√≥n de Nodos\ndef pensar(estado):\n    estado[\"intento\"] += 1\n    if estado[\"intento\"] == 1:\n        estado[\"respuesta_actual\"] = \"Un perro\"\n    elif estado[\"intento\"] == 2:\n        estado[\"respuesta_actual\"] = \"El Ser Humano\"\n    return estado\n\ndef criticar(estado):\n    # El Or√°culo verifica\n    if estado[\"respuesta_actual\"] == \"El Ser Humano\":\n        estado[\"es_correcta\"] = True\n        print(\"‚úÖ [CRITICO] Respuesta Correcta.\")\n    else:\n        estado[\"es_correcta\"] = False\n        print(\"‚ùå [CRITICO] Incorrecto. Reintentando...\")\n    return estado\n\n# <--- TU C√ìDIGO: Implementa el Bucle While\n# 1. Llama a pensar(estado)\n# 2. Llama a criticar(estado)\n# 3. Si no es correcta, repite el bucle. Comprueba que estado['es_correcta'] sea True para salir.\n\n# while ...:\n#    estado = pensar(estado)\n#    estado = ...\n\nprint(f\"¬°ACERTIJO RESUELTO! La respuesta es: {estado['respuesta_actual']}\")",
    "hints": [
        "Usa un ciclo `while not estado['es_correcta']:...",
        "Dentro del while: `estado = pensar(estado)` y luego `estado = criticar(estado)`.",
        "Esto simula una arista condicional: Si (False) -> Volver al inicio."
    ],
    "solutionCode": "acertijo = \"¬øQu√© es lo que al principio camina a cuatro patas, luego a dos y finalmente a tres?\"\nestado = {\"intento\": 0, \"respuesta_actual\": \"\", \"es_correcta\": False}\n\ndef pensar(estado):\n    estado[\"intento\"] += 1\n    print(f\"[PENSAR] Intento #{estado['intento']}\")\n    if estado[\"intento\"] == 1:\n        estado[\"respuesta_actual\"] = \"Un gato\"\n    elif estado[\"intento\"] >= 2:\n        estado[\"respuesta_actual\"] = \"El Ser Humano\"\n    return estado\n\ndef criticar(estado):\n    ans = estado[\"respuesta_actual\"]\n    if ans == \"El Ser Humano\":\n        estado[\"es_correcta\"] = True\n        print(f\"[CRITICO] '{ans}' es CORRECTO. Rompiendo el ciclo.\")\n    else:\n        estado[\"es_correcta\"] = False\n        print(f\"[CRITICO] '{ans}' es INCORRECTO. Volviendo al Nodo Pensar.\")\n    return estado\n\n# Motor del Grafo (Runtime)\nwhile not estado[\"es_correcta\"]:\n    estado = pensar(estado)\n    estado = criticar(estado)\n    # Simulaci√≥n de pausa para no colgar el navegador si fuera infinito real\n    if estado[\"intento\"] > 5: break \n\nprint(f\"üéâ Resultado Final: {estado['respuesta_actual']}\")",
    "validationCode": "\ndef validar_mision(globals_dict):\n    try:\n        if 'estado' not in globals_dict:\n            return False, \"No encuentro el 'estado' del grafo.\"\n        \n        st = globals_dict['estado']\n        if not st.get('es_correcta'):\n            return False, \"El bucle termin√≥ pero la respuesta sigue siendo incorrecta.\"\n            \n        if st.get('intento', 0) < 2:\n            return False, \"El Golem acert√≥ a la primera. Para aprender el 'Ciclo', debe fallar y corregirse al menos una vez (intento >= 2).\"\n        \n        if st.get('respuesta_actual') != \"El Ser Humano\":\n            return False, \"La respuesta final no es la soluci√≥n al acertijo de la Esfinge.\"\n\n        return True, \"¬°CICLO COMPLETADO! Has creado una mente que razona, corrige y evoluciona. Has completado The Neural Forge.\"\n    except Exception as e:\n        return False, f\"El grafo colaps√≥: {str(e)}\"\n"
}
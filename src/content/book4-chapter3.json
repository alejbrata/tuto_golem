{
    "id": "4-3",
    "es": {
        "title": "El Ciclo del Infinito",
        "lore": "Has llegado al final. El Golem se enfrenta al 'Acertijo de la Eternidad'. No hay respuesta directa. Para resolverlo, el Golem debe entrar en un bucle de pensamiento: Proponer, Verificar, Corregir y Reintentar. Solo una mente capaz de dudar y corregirse a s√≠ misma puede alcanzar la Verdad Absoluta.",
        "lesson": "¬°FINAL DEL VIAJE: GRAFOS DE ESTADO (LangGraph)!\n\nLas cadenas lineales (A->B->C) son r√≠gidas. La IA avanzada opera en **Grafos C√≠clicos**.\n\nNodos:\n1. **Pensar**: Generar soluci√≥n.\n2. **Criticar**: Verificar si es correcta.\n3. **Corregir**: Si falla, ajustar y volver a Pensar.\n\nTu misi√≥n: Implementar este ciclo infinito. El Golem debe iterar hasta resolver el acertijo.",
        "hints": [
            "Usa un ciclo `while not estado['es_correcta']:...`.",
            "Dentro del while, llama a `estado = pensar(estado)`.",
            "Despu√©s, llama a `estado = criticar(estado)`.",
            "Este bucle se repetir√° hasta que el cr√≠tico marque `es_correcta = True`."
        ],
        "initialCode": "acertijo = \"¬øQu√© es lo que al principio camina a cuatro patas, luego a dos y finalmente a tres?\"\n\n# Estado del Grafo\nestado = {\n    \"intento\": 0,\n    \"respuesta_actual\": \"\",\n    \"es_correcta\": False\n}\n\nclass NodoGrafo:\n    def __init__(self, nombre):\n        self.nombre = nombre\n\n    def ejecutar(self, estado):\n        print(f\"[{self.nombre}] Ejecutando...\")\n        return estado\n\n# Definici√≥n de Nodos\ndef pensar(estado):\n    estado[\"intento\"] += 1\n    if estado[\"intento\"] == 1:\n        estado[\"respuesta_actual\"] = \"Un perro\"\n    elif estado[\"intento\"] == 2:\n        estado[\"respuesta_actual\"] = \"El Ser Humano\"\n    return estado\n\ndef criticar(estado):\n    # El Or√°culo verifica\n    if estado[\"respuesta_actual\"] == \"El Ser Humano\":\n        estado[\"es_correcta\"] = True\n        print(\"‚úÖ [CRITICO] Respuesta Correcta.\")\n    else:\n        estado[\"es_correcta\"] = False\n        print(\"‚ùå [CRITICO] Incorrecto. Reintentando...\")\n    return estado\n\n# <--- TU C√ìDIGO AQU√ç: Implementa el Bucle While (Ciclo Infinito)\nwhile not estado[\"es_correcta\"]:\n    # 1. Piensa\n    # estado = pensar(estado)\n    pass\n    # 2. Critica\n    # estado = ...\n\n# print(f\"¬°ACERTIJO RESUELTO! La respuesta es: {estado['respuesta_actual']}\")"
    },
    "en": {
        "title": "The Cycle of Infinity",
        "lore": "You have reached the end. The Golem faces the 'Riddle of Eternity'. There is no direct answer. To solve it, the Golem must enter a loop of thought: Propose, Verify, Correct, and Retry. Only a mind capable of doubting and correcting itself can reach Absolute Truth.",
        "lesson": "**END OF JOURNEY: STATE GRAPHS (LangGraph)**!\n\nLinear chains (A->B->C) are rigid. Advanced AI operates in **Cyclic Graphs**.\n\nNodes:\n1. **Think**: Generate solution.\n2. **Critique**: Verify if it is correct.\n3. **Correct**: If it fails, adjust and Think again.\n\nYour mission: Implement this infinite cycle. The Golem must iterate until it solves the riddle.",
        "hints": [
            "Use a loop `while not estado['es_correcta']:...`.",
            "Inside the while, call `estado = pensar(estado)`.",
            "Then, call `estado = criticar(estado)`.",
            "This loop will repeat until the critic marks `es_correcta = True`."
        ],
        "initialCode": "acertijo = \"What walks on four legs in the morning, two legs in the afternoon, and three legs in the evening?\"\n\n# Graph State\nestado = {\n    \"intento\": 0,\n    \"respuesta_actual\": \"\",\n    \"es_correcta\": False\n}\n\nclass NodoGrafo:\n    def __init__(self, nombre):\n        self.nombre = nombre\n\n    def ejecutar(self, estado):\n        print(f\"[{self.nombre}] Executing...\")\n        return estado\n\n# Node Definitions\ndef pensar(estado):\n    estado[\"intento\"] += 1\n    if estado[\"intento\"] == 1:\n        estado[\"respuesta_actual\"] = \"A dog\"\n    elif estado[\"intento\"] == 2:\n        estado[\"respuesta_actual\"] = \"The Human Being\"\n    return estado\n\ndef criticar(estado):\n    # The Oracle verifies\n    if estado[\"respuesta_actual\"] == \"The Human Being\":\n        estado[\"es_correcta\"] = True\n        print(\"‚úÖ [CRITIC] Correct Answer.\")\n    else:\n        estado[\"es_correcta\"] = False\n        print(\"‚ùå [CRITIC] Incorrect. Retrying...\")\n    return estado\n\n# <--- YOUR CODE HERE: Implement the While Loop (Infinite Cycle)\nwhile not estado[\"es_correcta\"]:\n    # 1. Think\n    # estado = pensar(estado)\n    pass\n    # 2. Critique\n    # estado = ...\n\n# print(f\"RIDDLE SOLVED! The answer is: {estado['respuesta_actual']}\")"
    },
    "solutionCode": "acertijo = \"¬øQu√© es lo que al principio camina a cuatro patas, luego a dos y finalmente a tres?\"\nestado = {\"intento\": 0, \"respuesta_actual\": \"\", \"es_correcta\": False}\n\ndef pensar(estado):\n    estado[\"intento\"] += 1\n    print(f\"[PENSAR] Intento #{estado['intento']}\")\n    if estado[\"intento\"] == 1:\n        estado[\"respuesta_actual\"] = \"Un gato\"\n    elif estado[\"intento\"] >= 2:\n        estado[\"respuesta_actual\"] = \"El Ser Humano\"\n    return estado\n\ndef criticar(estado):\n    ans = estado[\"respuesta_actual\"]\n    if ans == \"El Ser Humano\":\n        estado[\"es_correcta\"] = True\n        print(f\"[CRITICO] '{ans}' es CORRECTO. Rompiendo el ciclo.\")\n    else:\n        estado[\"es_correcta\"] = False\n        print(f\"[CRITICO] '{ans}' es INCORRECTO. Volviendo al Nodo Pensar.\")\n    return estado\n\n# Motor del Grafo (Runtime)\nwhile not estado[\"es_correcta\"]:\n    estado = pensar(estado)\n    estado = criticar(estado)\n    # Simulaci√≥n de pausa para no colgar el navegador si fuera infinito real\n    if estado[\"intento\"] > 5: break \n\nprint(f\"üéâ Resultado Final: {estado['respuesta_actual']}\")",
    "validationCode": "\ndef validar_mision(globals_dict):\n    try:\n        if 'estado' not in globals_dict:\n            return False, \"No encuentro el 'estado' del grafo.\"\n        \n        st = globals_dict['estado']\n        if not st.get('es_correcta'):\n            return False, \"El bucle termin√≥ pero la respuesta sigue siendo incorrecta.\"\n            \n        if st.get('intento', 0) < 2:\n            return False, \"El Golem acert√≥ a la primera. Para aprender el 'Ciclo', debe fallar y corregirse al menos una vez (intento >= 2).\"\n        \n        if st.get('respuesta_actual') != \"El Ser Humano\":\n            return False, \"La respuesta final no es la soluci√≥n al acertijo de la Esfinge.\"\n\n        return True, \"¬°CICLO COMPLETADO! Has creado una mente que razona, corrige y evoluciona. Has completado The Neural Forge.\"\n    except Exception as e:\n        return False, f\"El grafo colaps√≥: {str(e)}\"\n"
}
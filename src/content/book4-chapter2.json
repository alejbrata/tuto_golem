{
    "id": "4-2",
    "title": "La Mente Colmena",
    "lore": "El Golem intenta reconstruir el Gran Templo de Datos, pero la tarea es titánica. No puede buscar materiales y diseñar la estructura al mismo tiempo. Necesita ayuda. Con un gesto, separa partes de su consciencia para crear dos Aliados: 'Buscador de Piedras' (Experto en Materia) y 'Maestro Cantero' (Experto en Estructura). Tú eres el Orquestador que guía su danza.",
    "lesson": "¡Multi-Agent Systems (MAS)!\n\nUn solo LLM generalista a veces falla en tareas complejas. Es mejor tener varios Agentes Especialistas.\n\nRoles:\n1. **Buscador (Researcher)**: Busca y extrae información cruda.\n2. **Cantero (Writer/Critic)**: Procesa, resume y valida la información.\n\nTu misión: Configurar estos dos agentes y pasar el output del Buscador al Cantero.",
    "initialCode": "mision_templo = \"Necesito construir un arco de triunfo resistente a terremotos usando materiales locales.\"\n\n# Simulamos los 'Cerebros' de los Agentes\n\nclass AgenteEspecialista:\n    def __init__(self, nombre, rol):\n        self.nombre = nombre\n        self.rol = rol\n    \n    def ejecutar(self, input_data):\n        print(f\"[{self.nombre} - {self.rol}] Procesando...\")\n        # Simulación de respuesta basada en rol\n        if \"Buscador\" in self.nombre:\n            return f\"Datos Encontrados: Granito Azul (Resistencia: Alta), Basalto (Resistencia: Media).\"\n        elif \"Cantero\" in self.nombre:\n            if \"Granito\" in input_data:\n                return f\"Diseño Final: Arco de Granito Azul con refuerzos de acero. Aprobado.\"\n            else:\n                return \"Error: No hay materiales adecuados.\"\n        return \"...\"\n\n# 1. Invoca a tus Aliados\nbuscador = AgenteEspecialista(\"Buscador\", \"Investigador de Materiales\")\ncantero = AgenteEspecialista(\"Cantero\", \"Arquitecto Senior\")\n\n# 2. Orquesta el Flujo\n# Pídele al Buscador los materiales para la misión\nprint(\"--- Paso 1: Búsqueda ---\")\n# <--- TU CÓDIGO: materiales = busc...ejecutar(...)\n# materiales = ...\n\n# Pásale los materiales al Cantero para que diseñe\nprint(\"--- Paso 2: Diseño ---\")\n# <--- TU CÓDIGO: diseño = cant...ejecutar(...)\n# diseño_final = ...\n\n# print(f\"Resultado del Templo: {diseño_final}\")",
    "hints": [
        "Ejecuta `materiales = buscador.ejecutar(mision_templo)`.",
        "Luego usa ese resultado: `diseño_final = cantero.ejecutar(materiales)`.",
        "El Cantero necesita el output del Buscador, no la misión original."
    ],
    "solutionCode": "mision_templo = \"Necesito construir un arco.\"\n\nclass AgenteEspecialista:\n    def __init__(self, nombre, rol):\n        self.nombre = nombre\n        self.rol = rol\n    \n    def ejecutar(self, input_data):\n        print(f\"[{self.nombre}] {self.rol} activado.\")\n        if \"Buscador\" in self.nombre:\n            return \"Materiales: Granito Azul, Obsidiana.\"\n        if \"Cantero\" in self.nombre:\n            return f\"Plan de Construcción: Usar Granito Azul para el arco principal. Estructura sólida.\"\n\nbuscador = AgenteEspecialista(\"Buscador\", \"Investigador\")\ncantero = AgenteEspecialista(\"Cantero\", \"Arquitecto\")\n\n# Orquestación\nprint(\"--- FASE 1: RECOLECCIÓN ---\")\nmateriales = buscador.ejecutar(mision_templo)\nprint(f\"> {materiales}\")\n\nprint(\"--- FASE 2: SÍNTESIS ---\")\ndiseño_final = cantero.ejecutar(materiales)\nprint(f\"> {diseño_final}\")",
    "validationCode": "\ndef validar_mision(globals_dict):\n    try:\n        if 'diseño_final' not in globals_dict:\n            return False, \"El Templo no se ha construido. Falta la variable 'diseño_final'.\"\n        \n        res = globals_dict['diseño_final']\n        if \"Granito\" not in res or \"Arco\" not in res and \"Plan\" not in res:\n            return False, \"El Cantero no ha recibido los materiales adecuados o no ha diseñado el arco.\"\n            \n        if 'materiales' not in globals_dict:\n            return False, \"Saltaste el paso del Buscador. Debes guardar su output en 'materiales'.\"\n\n        return True, \"¡La Colmena ha hablado! Los agentes han colaborado para crear un diseño perfecto.\"\n    except Exception as e:\n        return False, f\"Caos en la colmena: {str(e)}\"\n"
}
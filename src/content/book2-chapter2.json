{
    "id": "2-2",
    "es": {
        "title": "El Susurro del Viento",
        "lore": "El Golem avanza hacia la Cascada de los Ecos. El aire vibra con voces antiguas, pero el estruendo del agua lo cubre todo. Los espíritus intentan darte la contraseña del puente, pero hablan en una frecuencia que tu Golem no sintoniza. Debes forjar 'Oídos Rúnicos' que filtren el ruido (shhh, pfff) y capturen la esencia del mensaje. Cuidado: el idioma de los espíritus es volátil; si intentas escucharlos como humanos, tu código fallará.",
        "lesson": "El audio son ondas. Para que la IA entienda, usamos modelos **STT (Speech-to-Text)** como Whisper.\n\n1. **Muestreo**: Convertir sonido en array de números.\n2. **Inferencia**: El modelo predice fonemas.\n3. **Manejo de Errores**: En el mundo real (y mágico), las APIs fallan o el idioma no coincide. Un buen Alquimista usa `try-except` para manejar lo inesperado.\n\nTu misión: Capturar el audio, manejar el error de idioma y limpiar el ruido.",
        "hints": [
            "Paso 1: Bloque `try-except`. Intenta `oido.escuchar(audio_raw, 'humano')`.",
            "En el `except ValueError`, llama a `oido.escuchar` con `lenguaje='espiritual'`.",
            "Paso 2: Usa `.replace()` encadenado para borrar 'shhh' y 'pfff'.",
            "Limpia también los puntos suspensivos '...'"
        ],
        "initialCode": "# Señal de audio capturada (Simulada)\naudio_raw = [0.01, -0.5, 0.8, -0.1, 0.0] # Array de ondas\n\nclass OidoAlquimico:\n    def escuchar(self, audio, lenguaje='humano'):\n        if lenguaje == 'humano':\n            # Los espíritus se ofenden si esperas palabras humanas\n            raise ValueError(\"Frecuencia no compatible. Intenta lenguaje='espiritual'.\")\n        \n        if lenguaje == 'espiritual':\n            return \"shhh... pfff... CAMINO ...shhh... VELOZ ...pfff...\"\n        \n        return \"...\"\n\noido = OidoAlquimico()\n\n# 1. Intenta escuchar. Si falla, cambia de frecuencia (Try-Except)\nmensaje_sucio = \"\"\n# <--- TU CODIGO: try: ... except: ...\n\n# 2. Limpia el ruido ('shhh', 'pfff', '...')\n# <--- TU CODIGO: mensaje_limpio = mensaje_sucio.replace(...)\n\n# print(f\"El mensaje secreto es: {mensaje_limpio}\")"
    },
    "en": {
        "title": "The Whisper of the Wind",
        "lore": "The Golem advances towards the Waterfall of Echoes. The air vibrates with ancient voices, but the roar of the water covers everything. The spirits try to give you the bridge password, but they speak in a frequency your Golem does not tune into. You must forge 'Runic Ears' that filter the noise (shhh, pfff) and capture the essence of the message. Beware: the language of spirits is volatile; if you try to listen to them like humans, your code will fail.",
        "lesson": "Audio is waves. For the AI to understand, we use **STT (Speech-to-Text)** models like Whisper.\n\n1. **Sampling**: Convert sound into an array of numbers.\n2. **Inference**: The model predicts phonemes.\n3. **Error Handling**: In the real (and magical) world, APIs fail or language does not match. A good Alchemist uses `try-except` to handle the unexpected.\n\nYour mission: Capture the audio, handle the language error, and clean the noise.",
        "hints": [
            "Step 1: `try-except` block. Attempt `oido.escuchar(audio_raw, 'humano')`.",
            "Inside `except ValueError`, call `oido.escuchar` with `lenguaje='espiritual'`.",
            "Step 2: Use chained `.replace()` to remove 'shhh' and 'pfff'.",
            "Also remove the ellipsis '...'"
        ],
        "initialCode": "# Captured audio signal (Simulated)\naudio_raw = [0.01, -0.5, 0.8, -0.1, 0.0] # Wave array\n\nclass OidoAlquimico:\n    def escuchar(self, audio, lenguaje='humano'):\n        if lenguaje == 'humano':\n            # Spirits get offended if you expect human words\n            raise ValueError(\"Incompatible frequency. Try lenguaje='espiritual'.\")\n        \n        if lenguaje == 'espiritual':\n            return \"shhh... pfff... CAMINO ...shhh... VELOZ ...pfff...\"\n        \n        return \"...\"\n\noido = OidoAlquimico()\n\n# 1. Try to listen. If it fails, change frequency (Try-Except)\nmensaje_sucio = \"\"\n# <--- YOUR CODE: try: ... except: ...\n\n# 2. Clean the noise ('shhh', 'pfff', '...')\n# <--- YOUR CODE: mensaje_limpio = mensaje_sucio.replace(...)\n\n# print(f\"The secret message is: {mensaje_limpio}\")"
    },
    "solutionCode": "audio_raw = [0.01, -0.5, 0.8] \n\nclass OidoAlquimico:\n    def escuchar(self, audio, lenguaje='humano'):\n        if lenguaje == 'humano':\n            raise ValueError(\"Frecuencia incorrecta\")\n        return \"shhh... CAMINO ...shhh... VELOZ ...pfff...\"\n\noido = OidoAlquimico()\n\n# 1. Captura con manejo de errores\ntry:\n    mensaje_sucio = oido.escuchar(audio_raw, lenguaje='humano')\nexcept ValueError:\n    print(\"¡Frecuencia humana falló! Sintonizando espectro espiritual...\")\n    mensaje_sucio = oido.escuchar(audio_raw, lenguaje='espiritual')\n\n# 2. Limpieza de ruido\n# Encadenamos replaces para borrar todo el ruido\nmensaje_limpio = mensaje_sucio.replace(\"shhh\", \"\").replace(\"pfff\", \"\").replace(\"...\", \"\").strip()\n\nprint(f\"Mensaje original: '{mensaje_sucio}'\")\nprint(f\"Mensaje limpio: '{mensaje_limpio}'\")",
    "validationCode": "\ndef validar_mision(globals_dict):\n    try:\n        if 'mensaje_limpio' not in globals_dict:\n            return False, \"No has guardado el resultado final en 'mensaje_limpio'.\"\n        \n        texto = globals_dict['mensaje_limpio']\n        if not isinstance(texto, str):\n            return False, \"El mensaje limpio debe ser texto (string).\"\n            \n        # Normalizamos espacios extra que puedan quedar\n        texto_norm = \" \".join(texto.split())\n        \n        if \"shhh\" in texto or \"pfff\" in texto:\n            return False, \"Aún escucho estática (shhh/pfff). ¡Limpia el mensaje!\"\n            \n        if \"CAMINO VELOZ\" not in texto_norm and \"CAMINO\" not in texto_norm:\n             return False, f\"El Golem escuchó '{texto}', pero los espíritus dijeron 'CAMINO VELOZ'. Revisa tu limpieza.\"\n\n        return True, \"¡Oído Absoluto! El Golem ha filtrado el caos y encontrado el camino.\"\n    except Exception as e:\n        return False, f\"Error en el procesamiento auditivo: {str(e)}\"\n"
}
{
    "id": "2-2",
    "title": "El Susurro del Viento",
    "lore": "El Golem avanza hacia la Cascada de los Ecos. El aire vibra con voces antiguas, pero el estruendo del agua lo cubre todo. Los espíritus intentan darte la contraseña del puente, pero hablan en una frecuencia que tu Golem no sintoniza. Debes forjar 'Oídos Rúnicos' que filtren el ruido (shhh, pfff) y capturen la esencia del mensaje. Cuidado: el idioma de los espíritus es volátil; si intentas escucharlos como humanos, tu código fallará.",
    "lesson": "El audio son ondas. Para que la IA entienda, usamos modelos **STT (Speech-to-Text)** como Whisper.\n\n1. **Muestreo**: Convertir sonido en array de números.\n2. **Inferencia**: El modelo predice fonemas.\n3. **Manejo de Errores**: En el mundo real (y mágico), las APIs fallan o el idioma no coincide. Un buen Alquimista usa `try-except` para manejar lo inesperado.\n\nTu misión: Capturar el audio, manejar el error de idioma y limpiar el ruido.",
    "initialCode": "# Señal de audio capturada (Simulada)\naudio_raw = [0.01, -0.5, 0.8, -0.1, 0.0] # Array de ondas\n\nclass OidoAlquimico:\n    def escuchar(self, audio, lenguaje='humano'):\n        if lenguaje == 'humano':\n            # Los espíritus se ofenden si esperas palabras humanas\n            raise ValueError(\"Frecuencia no compatible. Intenta lenguaje='espiritual'.\")\n        \n        if lenguaje == 'espiritual':\n            return \"shhh... pfff... CAMINO ...shhh... VELOZ ...pfff...\"\n        \n        return \"...\"\n\noido = OidoAlquimico()\n\n# 1. Intenta escuchar. Si falla, cambia de frecuencia (Try-Except)\nmensaje_sucio = \"\"\n# <--- TU CODIGO: try: ... except: ...\n\n# 2. Limpia el ruido ('shhh', 'pfff', '...')\n# <--- TU CODIGO: mensaje_limpio = mensaje_sucio.replace(...)\n\n# print(f\"El mensaje secreto es: {mensaje_limpio}\")",
    "hints": [
        "Usa un bloque `try:` para llamar a `oido.escuchar(audio_raw, 'humano')`.",
        "En el bloque `except ValueError:`, intenta con `lenguaje='espiritual'`.",
        "Usa `.replace('shhh', '')` y `.replace('pfff', '')` para limpiar el texto.",
        "Asegúrate de eliminar también los puntos '...' para tener solo las palabras."
    ],
    "solutionCode": "audio_raw = [0.01, -0.5, 0.8] \n\nclass OidoAlquimico:\n    def escuchar(self, audio, lenguaje='humano'):\n        if lenguaje == 'humano':\n            raise ValueError(\"Frecuencia incorrecta\")\n        return \"shhh... CAMINO ...shhh... VELOZ ...pfff...\"\n\noido = OidoAlquimico()\n\n# 1. Captura con manejo de errores\ntry:\n    mensaje_sucio = oido.escuchar(audio_raw, lenguaje='humano')\nexcept ValueError:\n    print(\"¡Frecuencia humana falló! Sintonizando espectro espiritual...\")\n    mensaje_sucio = oido.escuchar(audio_raw, lenguaje='espiritual')\n\n# 2. Limpieza de ruido\n# Encadenamos replaces para borrar todo el ruido\nmensaje_limpio = mensaje_sucio.replace(\"shhh\", \"\").replace(\"pfff\", \"\").replace(\"...\", \"\").strip()\n\nprint(f\"Mensaje original: '{mensaje_sucio}'\")\nprint(f\"Mensaje limpio: '{mensaje_limpio}'\")",
    "validationCode": "\ndef validar_mision(globals_dict):\n    try:\n        if 'mensaje_limpio' not in globals_dict:\n            return False, \"No has guardado el resultado final en 'mensaje_limpio'.\"\n        \n        texto = globals_dict['mensaje_limpio']\n        if not isinstance(texto, str):\n            return False, \"El mensaje limpio debe ser texto (string).\"\n            \n        # Normalizamos espacios extra que puedan quedar\n        texto_norm = \" \".join(texto.split())\n        \n        if \"shhh\" in texto or \"pfff\" in texto:\n            return False, \"Aún escucho estática (shhh/pfff). ¡Limpia el mensaje!\"\n            \n        if \"CAMINO VELOZ\" not in texto_norm and \"CAMINO\" not in texto_norm:\n             return False, f\"El Golem escuchó '{texto}', pero los espíritus dijeron 'CAMINO VELOZ'. Revisa tu limpieza.\"\n\n        return True, \"¡Oído Absoluto! El Golem ha filtrado el caos y encontrado el camino.\"\n    except Exception as e:\n        return False, f\"Error en el procesamiento auditivo: {str(e)}\"\n"
}
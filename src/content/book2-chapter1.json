{
    "id": "2-1",
    "title": "El Ojo de Cristal",
    "lore": "Has dominado el Verbo (Texto) y la Memoria (Vectores), pero tu Golem sigue ciego en el mundo físico. Despiertas en una estancia oscura. Una losa de obsidiana bloquea la salida. Sobre ella, brilla un glifo rúnico que cambia constantemente. Para abrirla, el Golem no solo debe leer; debe **ver**. Debes forjarle un Ojo de Cristal (Vision Encoder) que traduzca la luz en pensamiento.",
    "lesson": "¡Bienvenido al **LIBRO 2: Los Sentidos del Alquimista**!\n\nPara que una IA entienda imágenes, usamos **VLMs (Vision-Language Models)** como GPT-4o o LLaVA. \n\n¿Cómo funcionan?\n1. **Vision Encoder (Ojo)**: Convierte la imagen en una cuadrícula de vectores (parches).\n2. **Proyección (Nervio Óptico)**: Traduce esos vectores visuales al 'idioma' del LLM.\n3. **LLM (Cerebro)**: Recibe los vectores como si fueran palabras y genera una descripción.\n\nTu misión: Usar el modelo `'spectral-v1-vision'` para identificar qué objeto representa el glifo de la puerta.",
    "initialCode": "# Simulación de una entrada visual (Imagen en Base64)\n# En la realidad, esto sería: \"data:image/png;base64...\"\nimagen_glifo = \"<GLIFO_RUNICO_ENCANTADO_AC8F>\"\n\nclass VisionModel:\n    def generate(self, image, prompt):\n        # Simula el proceso de \"ver\" y responder\n        if \"GLIFO\" not in image: return \"No veo nada.\"\n        \n        # El modelo analiza los pixeles...\n        print(\"[OJO] Escaneando frecuencia lumínica...\")\n        print(\"[CEREBRO] Interpretando formas geométricas...\")\n        \n        # Devuelve un JSON simulado con la predicción\n        return {\n            \"descripcion\": \"Una estructura arqueada de madera con bisagras.\",\n            \"objeto_detectado\": \"Puerta\",\n            \"confianza\": 0.98\n        }\n\n# 1. Invoca al Modelo de Visión\nvlm = VisionModel()\n\n# 2. Pídele que describa el glifo\n# <--- TU CÓDIGO AQUÍ: respuesta = ...\n\n# 3. Extrae el objeto para abrir la salida\n# <--- TU CÓDIGO AQUÍ: clave = respuesta['...']\n\n# print(f\"El glifo representa: {clave}\")",
    "hints": [
        "Llama a `vlm.generate(imagen_glifo, \"¿Qué es esto?\")`.",
        "Guarda el resultado en una variable, por ejemplo `vision_data`.",
        "Accede al nombre del objeto con `vision_data['objeto_detectado']`."
    ],
    "solutionCode": "imagen_glifo = \"<GLIFO_RUNICO_ENCANTADO_AC8F>\"\n\nclass VisionModel:\n    def generate(self, image, prompt):\n        print(\"[OJO] Escaneando frecuencia lumínica...\")\n        return {\n            \"descripcion\": \"Una estructura de paso.\",\n            \"objeto_detectado\": \"Puerta\",\n            \"confianza\": 0.99\n        }\n\nvlm = VisionModel()\n\n# Análisis Visual\nrespuesta = vlm.generate(imagen_glifo, \"Describe el objeto\")\n\n# Extracción de Concepto\nclave_maestra = respuesta['objeto_detectado']\n\nprint(f\"Análisis completado. El objeto es: {clave_maestra}\")",
    "validationCode": "\ndef validar_mision(globals_dict):\n    try:\n        if 'vlm' not in globals_dict:\n            return False, \"¡El Ojo de Cristal no ha sido forjado! Instancia 'VisionModel'.\"\n        \n        # Check if 'respuesta' or 'clave'/'clave_maestra' exists\n        if 'respuesta' not in globals_dict:\n            return False, \"El Golem no ha mirado el glifo. Llama a vlm.generate().\"\n        \n        res = globals_dict['respuesta']\n        if not isinstance(res, dict) or 'objeto_detectado' not in res:\n             return False, \"El nervio óptico falló. La respuesta debe ser un diccionario con 'objeto_detectado'.\"\n\n        obj = res['objeto_detectado']\n        if obj.lower() not in ['puerta', 'salida', 'portal']:\n            return False, f\"El Golem vió '{obj}', pero el glifo representa una Salida. Revisa tu código.\"\n\n        return True, \"¡Visión Confirmada! El Golem entiende lo que ve. La puerta de obsidiana se abre.\"\n    except Exception as e:\n        return False, f\"Error en el cortex visual: {str(e)}\"\n"
}